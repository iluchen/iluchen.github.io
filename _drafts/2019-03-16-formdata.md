---
layout: post
title: 使用FormData处理表单中多个File文件的传输 
categories: Tech
description: 使用 Markdown 编写博客并记录常用语法
keywords: FormData,jQuery
---


## 概述
工作中涉及到多个input为file类型的文件传到后台处理。

## 解决思路
html表单如下结构
    
    <form id="form" enctype="multipart/form-data">
        <input type="file" name="attachment">
        <input type="file" name="attachment">
        <input type="file" name="attachment">
    </form>

js代码如下，此处使用jQuery的ajax请求

    $.ajax({
        url: 'save',
        type: 'post',
        contentType: false,
        data: new FormData($('#form')[0]),
        success: function(result) {
        },
        error: function(err) {
        }
    })

java(springMVC) 的controller代码如下

    @RequestMapping(value = "save", method = RequestMethod.POST)
    public @ResponseBody Object save(MultipartFile[] attachment
    , HttpServletRequest request) throws Exception {
    /* files 为input的name，这样就可以获取所有文件的数组了。*/
        return "success";
    }

